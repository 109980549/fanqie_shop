(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-apply"],{2367:function(t,i,e){"use strict";e.r(i);var n=e("3d2d"),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=a.a},"3d2d":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{index:-1,picker:[],Address_Item:"",field:{title:"",info:"",mobile:"",username:"",address:"",longitude:"",latitude:""},locationDis:!1,show:!1,pid:0}},onLoad:function(t){t.pid&&(this.pid=t.pid)},methods:{hideMap:function(){this.show=!1},onSelMap:function(t){this.show=!1,t&&(this.field.address=t.address,this.field.latitude=t.latitude,this.field.longitude=t.longitude,this.locationDis=!0,this.index=-1)},onSub:function(){var t=this;this.check()&&(this.field.partner_id=this.pid,this.fq_post("fanqie/user/shop_apply",this.field,(function(i){t.showMs(i.message,(function(){uni.switchTab({url:"/pages/user/index"})}))})))},check:function(){var t=!0;return this.field.title?this.field.info?this.field.mobile?this.field.username?this.field.address?this.field.location_id||(this.Toast("所属区域不能为空","none"),t=!1):(this.Toast("地址不能为空","none"),t=!1):(this.Toast("联系人不能为空","none"),t=!1):(this.Toast("联系电话不能为空","none"),t=!1):(this.Toast("简介不能为空","none"),t=!1):(this.Toast("名称不能为空","none"),t=!1),t},locationChange:function(t){var i=t.detail.value;this.index=i,this.field.location_id=this.picker[i].id},onLocation:function(t){var i=this;this.field.longitude?-1==this.index&&this.fq_get("fanqie/location/shop_apply",{longitude:this.field.longitude,latitude:this.field.latitude},(function(t){i.picker=t.data,i.index=0})):this.Toast("请选择地址","none")},onMap:function(){this.show=!0}}};i.default=n},"6d5a":function(t,i,e){"use strict";var n,a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"cu-modal bottom-modal typeBox",class:t.show?"show":"",staticStyle:{"z-index":"10000"}},[e("v-uni-view",{staticClass:"cu-dialog"},[e("v-uni-view",{staticClass:"cu-bar bg-white"},[e("v-uni-view",{staticClass:"action text-green",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onSels.apply(void 0,arguments)}}},[t._v("确定")]),e("v-uni-view",{staticClass:"action text-blue",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideMap.apply(void 0,arguments)}}},[t._v("取消")])],1),e("v-uni-view",{staticClass:"modal-bd"},[t.mapkey?[e("iframe",{attrs:{id:"mapPage",width:"100%",height:t.height,frameborder:"0",src:t.src}})]:t._e()],2)],1)],1)],1)},s=[];e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return n}))},"6fbb":function(t,i,e){"use strict";var n={choosemap:e("93db").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("custom",{attrs:{bgColor:"bg-white",isBack:!0}},[e("template",{attrs:{slot:"content"},slot:"content"},[t._v("提交资料")])],2),e("v-uni-form",[e("v-uni-view",{staticClass:"cu-form-group margin-top"},[e("v-uni-view",{staticClass:"title"},[t._v("名称")]),e("v-uni-input",{attrs:{placeholder:"输入你名称"},model:{value:t.field.title,callback:function(i){t.$set(t.field,"title",i)},expression:"field.title"}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("简介")]),e("v-uni-input",{attrs:{placeholder:"比如主营xxxxx"},model:{value:t.field.info,callback:function(i){t.$set(t.field,"info",i)},expression:"field.info"}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("联系电话")]),e("v-uni-input",{attrs:{placeholder:"填写手机号即可"},model:{value:t.field.mobile,callback:function(i){t.$set(t.field,"mobile",i)},expression:"field.mobile"}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("联  系  人")]),e("v-uni-input",{attrs:{placeholder:"请填写联系人姓名"},model:{value:t.field.username,callback:function(i){t.$set(t.field,"username",i)},expression:"field.username"}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("地址")]),e("v-uni-input",{attrs:{disabled:!t.field.longitude,placeholder:"点击定位图标自动定位"},model:{value:t.field.address,callback:function(i){t.$set(t.field,"address",i)},expression:"field.address"}}),e("v-uni-text",{staticClass:"cuIcon-locationfill text-orange",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onMap()}}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("所属区域")]),e("v-uni-picker",{attrs:{"range-key":"name",disabled:!t.locationDis,value:t.index,range:t.picker},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.locationChange.apply(void 0,arguments)},click:function(i){arguments[0]=i=t.$handleEvent(i),t.onLocation.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.index>-1?t.picker[t.index].name:"定位后才可以选择"))])],1)],1)],1),e("v-uni-view",{staticClass:"cu-bar foot bg-orange tabbar"},[e("v-uni-view",{staticClass:"submit",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onSub()}}},[t._v("确认提交")])],1),e("choosemap",{attrs:{show:t.show},on:{onSels:function(i){arguments[0]=i=t.$handleEvent(i),t.onSelMap.apply(void 0,arguments)},hideMap:function(i){arguments[0]=i=t.$handleEvent(i),t.hideMap.apply(void 0,arguments)}}})],1)},s=[];e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return n}))},"845d":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"choosemap",data:function(){return{message:"",src:"",height:this.windowHeight,mapkey:""}},props:{show:{type:Boolean}},created:function(){this.get_key()},mounted:function(){window.addEventListener("message",this.onOpen,!1)},methods:{get_key:function(){var t=this;this.fq_get("fanqie/api/mapkey","",(function(i){t.mapkey=i.data,t.src="https://apis.map.qq.com/tools/locpicker?search=1&type=1&key="+t.mapkey+"&referer=myapp"}))},onOpen:function(t){var i=t.data;i&&"locationPicker"===i.module&&(this.message=i)},onSels:function(){if(this.message){var t={};t.name=this.message.poiname,t.address=this.message.poiaddress,t.latitude=this.message.latlng.lat,t.longitude=this.message.latlng.lng,this.$emit("onSels",t)}else this.$emit("onSels","")},hideMap:function(){this.$emit("hideMap")}}};i.default=n},"8dcd":function(t,i,e){"use strict";e.r(i);var n=e("845d"),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=a.a},"93db":function(t,i,e){"use strict";e.r(i);var n=e("6d5a"),a=e("8dcd");for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);var o,l=e("f0c5"),u=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"48c1114b",null,!1,n["a"],o);i["default"]=u.exports},"9e20":function(t,i,e){"use strict";e.r(i);var n=e("6fbb"),a=e("2367");for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);var o,l=e("f0c5"),u=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"66fb34fa",null,!1,n["a"],o);i["default"]=u.exports}}]);