(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-fx-qrcode"],{"1f86":function(t,e,i){var a=i("4fe9");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("4547bce6",a,!0,{sourceMap:!1,shadowMode:!1})},"4fe9":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".swiper uni-swiper-item[data-v-b26f24a0]{padding:5px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.swiper uni-swiper-item uni-image[data-v-b26f24a0]{border-radius:%?10?%;overflow:hidden;-webkit-transform:scale(.9);transform:scale(.9);-webkit-transition:.2s;transition:.2s}.swiper uni-swiper-item.cur uni-image[data-v-b26f24a0]{-webkit-transform:scale(1);transform:scale(1)}.bottom-bar[data-v-b26f24a0]{position:fixed;width:100%;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center;background-color:hsla(0,0%,100%,.15);height:%?200?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.bottom-bar .item[data-v-b26f24a0]{padding:0 %?40?%}.bottom-bar .item .cu-avatar[data-v-b26f24a0]{width:%?80?%;height:%?80?%;margin-bottom:%?10?%;font-size:%?40?%}.hideCanvasView[data-v-b26f24a0]{position:relative}.hideCanvas[data-v-b26f24a0]{position:fixed;top:%?-99999?%;left:%?-99999?%;z-index:-99999}.flex_row_c_c[data-v-b26f24a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.modalView[data-v-b26f24a0]{width:100%;height:100%;position:fixed;top:0;left:0;right:0;bottom:0;opacity:0;outline:0;-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-perspective:%?2500?%;perspective:%?2500?%;background:rgba(0,0,0,.6);-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:999}.modalView.show[data-v-b26f24a0]{opacity:1;-webkit-transform:scale(1);transform:scale(1);pointer-events:auto}.flex_column[data-v-b26f24a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.backgroundColor-white[data-v-b26f24a0]{background-color:#fff}.border_radius_10px[data-v-b26f24a0]{border-radius:10px}.padding1vh[data-v-b26f24a0]{padding:1vh}.posterImage[data-v-b26f24a0]{width:60vw}.flex_row[data-v-b26f24a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.marginTop2vh[data-v-b26f24a0]{margin-top:2vh}",""]),t.exports=e},"80b9":function(t,e,i){"use strict";i.r(e);var a=i("eb0b"),n=i("980e");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("9961");var r,o=i("f0c5"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"b26f24a0",null,!1,a["a"],r);e["default"]=c.exports},"980e":function(t,e,i){"use strict";i.r(e);var a=i("e74c"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},9961:function(t,e,i){"use strict";var a=i("1f86"),n=i.n(a);n.a},e74c:function(t,e,i){"use strict";var a=i("ee27");i("d81d"),i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("c964")),s=a(i("abdc")),r=i("c519"),o={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,items:"",swiperCur:0,hb:"",poster:{},qrShow:!1,canvasId:"default_PosterCanvasId",user:uni.getStorageSync("userinfo")}},onLoad:function(){this.getItems()},methods:{saveImage:function(){this.Toast("长按图标，保存到相册","none")},getItems:function(){var t=this;this.fq_get("fanqie/fx/haibao","",(function(e){t.items=e.data,t.hb=t.items[0]}))},onQu:function(){this.showMs("左右滑动，选择一张专属海报，点击分享海报，保存到相册，分享给朋友或者朋友圈即可！")},close:function(){this.qrShow=!1},onQr:function(){this.shareFc()},swiperChange:function(t){var e=t.detail.current;this.hb=this.items[e],this.swiperCur=e},shareFc:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.getSharePoster)({_this:t,bgScale:1,backgroundImage:t.hb.thumb,posterCanvasId:t.canvasId,delayTimeScale:20,drawArray:function(e){var i=e.bgObj,a=(e.type,e.bgScale,.045*i.width),n=t.hb.hb_field.map((function(t){return"text"==t.type&&(t.size=a),t}));return new Promise((function(t,e){t(n)}))},setCanvasWH:function(e){var i=e.bgObj;e.type,e.bgScale;t.poster=i}});case 3:i=e.sent,t.poster.finalPath=i.poster.tempFilePath,t.qrShow=!0,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),s.default.hideLoading(),s.default.showToast(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}};e.default=o},eb0b:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"bg-gradual-purple",staticStyle:{height:"100vh"}},[i("custom",{attrs:{bgColor:"text-white",isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("专属海报")]),i("template",{attrs:{slot:"right"},slot:"right"},[i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onQu.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cuIcon-question"})],1)],1)],2),i("v-uni-swiper",{staticClass:"swiper",style:[{height:"calc(100vh - 100px - "+t.CustomBar+"px)"}],attrs:{"previous-margin":"80px","next-margin":"80px","indicator-dots":!1,circular:!0,interval:"2000",duration:"500"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)}}},t._l(t.items,(function(e,a){return i("v-uni-swiper-item",{key:a,class:t.swiperCur==a?"cur":""},[i("v-uni-image",{attrs:{src:e.thumb,mode:"widthFix"}})],1)})),1),i("v-uni-view",{staticClass:"bottom-bar"},[i("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onQr()}}},[i("v-uni-view",{staticClass:"cu-avatar lg round bg-white text-green"},[i("v-uni-text",{staticClass:"cuIcon-pic"})],1),i("v-uni-view",{staticClass:"text-sm"},[t._v("分享海报")])],1)],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"flex_row_c_c modalView",class:t.qrShow?"show":""},[i("v-uni-view",{staticClass:"flex_column"},[i("v-uni-view",{staticClass:"backgroundColor-white padding1vh border_radius_10px"},[i("v-uni-image",{staticClass:"posterImage",attrs:{src:t.poster.finalPath||"",mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"flex_row marginTop2vh justify-center"},[i("v-uni-button",{staticClass:"cu-btn round bg-orange",on:{click:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.saveImage()}}},[t._v("保存图片")]),i("v-uni-button",{staticClass:"cu-btn round margin-left",on:{click:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.close()}}},[t._v("关闭图片")])],1)],1)],1),i("v-uni-view",{staticClass:"hideCanvasView"},[i("v-uni-canvas",{staticClass:"hideCanvas",style:{width:(t.poster.width||10)+"px",height:(t.poster.height||10)+"px"},attrs:{"canvas-id":"default_PosterCanvasId"}})],1)],1)],1)},s=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))}}]);