(function(e){function t(t){for(var i,l,o=t[0],s=t[1],c=t[2],d=0,p=[];d<o.length;d++)l=o[d],a[l]&&p.push(a[l][0]),a[l]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(i=!1)}i&&(n.splice(t--,1),e=l(l.s=r[0]))}return e}var i={},a={app:0},n=[];function l(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=i,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(r,i,function(t){return e[t]}.bind(null,i));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=s;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var i=r("64a9"),a=r.n(i);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var i=r("2b0e"),a=r("5c96"),n=r.n(a),l=(r("0fae"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",[r("el-container",[r("el-header",[r("el-steps",{attrs:{active:e.active,"align-center":"","finish-status":"success"}},[r("el-step",{attrs:{title:"阅读协议"}}),r("el-step",{attrs:{title:"环境检测"}}),r("el-step",{attrs:{title:"数据库配置"}}),r("el-step",{attrs:{title:"初始化数据"}})],1)],1),r("el-main",{staticStyle:{margin:"1% 5%"}},[0==e.active?[r("div",{staticStyle:{height:"400px",border:"1px solid #eee",padding:"15px",overflow:"auto",margin:"0 10%"}},[r("h1",[e._v("中文版授权协议 适用于中文用户")]),r("p",[e._v("版权所有 (c) 2001-2020，襄阳市番茄网络科技有限公司保留所有权利。")]),r("p",[e._v("感谢您选择番茄社区门店系统。希望我们的努力能为您提供一个高效快速和强大的站点解决方案。")]),r("p",[e._v("襄阳市番茄网络科技有限公司为番茄社区门店系统开发商，依法独立拥有番茄社区门店系统著作权。官方网址为 http://www.chaituans.com")]),r("p",[e._v("番茄社区门店系统著作权已在中华人民共和国国家版权局注册，著作权受到法律和国际公约保护。使用者：无论个人或组织、盈利与否、用途如何（包括以学习和研究为目的），均需仔细阅读本协议，在理解、同意、并遵守本协议的全部条款后，方可开始使用番茄社区门店系统软件。")]),r("p",[e._v("本公司拥有对本授权协议的最终解释权。")]),r("h3",[e._v("I. 协议许可的权利")]),r("ol",[r("li",[e._v("您可以在完全遵守本最终用户授权协议的基础上，将本软件应用于非商业用途，而不必支付软件版权授权费用。")]),r("li",[e._v("您可以在协议规定的约束和限制范围内修改番茄社区门店系统源代码(如果被提供的话)或界面风格以适应您的网站要求。")]),r("li",[e._v("您拥有使用本软件构建的网站中全部会员资料、文章及相关信息的所有权，并独立承担与文章内容的相关法律义务。")]),r("li",[e._v("获得商业授权之后，您可以将本软件应用于商业用途，同时依据所购买的授权类型中确定的技术支持期限、技术支持方式和技术支持内容，自购买时刻起，在技术支持期限内拥有通过指定的方式获得指定范围内的技术支持服务。商业授权用户享有反映和提出意见的权力，相关意见将被作为首要考虑，但没有一定被采纳的承诺或保证。")])]),r("h3",[e._v("II. 协议规定的约束和限制")]),r("ol",[r("li",[e._v("未获商业授权之前，不得将本软件用于商业用途（包括但不限于企业网站、经营性网站、以营利为目或实现盈利的网站）。购买商业授权请登陆http://www.chaituans.com参考相关说明，也可以致电13538436848了解详情。")]),r("li",[e._v("不得对本软件或与之关联的商业授权进行出租、出售、抵押或发放子许可证。")]),r("li",[e._v("无论如何，即无论用途如何、是否经过修改或美化、修改程度如何，只要使用番茄社区门店系统的整体或任何部分，未经书面许可，页面页脚处的番茄社区门店系统名称和本公司的链接都必须保留，而不能清除或修改。")]),r("li",[e._v("禁止在番茄社区门店系统的整体或任何部分基础上以发展任何派生版本、修改版本或第三方版本用于重新分发。")]),r("li",[e._v("如果您未能遵守本协议的条款，您的授权将被终止，所被许可的权利将被收回，并承担相应法律责任。")])]),r("h3",[e._v("III. 有限担保和免责声明")]),r("ol",[r("li",[e._v("本软件及所附带的文件是作为不提供任何明确的或隐含的赔偿或担保的形式提供的。")]),r("li",[e._v("用户出于自愿而使用本软件，您必须了解使用本软件的风险，在尚未购买产品技术服务之前，我们不承诺提供任何形式的技术支持、使用担保，也不承担任何因使用本软件而产生问题的相关责任。")]),r("li",[e._v("本公司不对使用本软件构建的网站中的信息承担任何责任。")])]),r("p",[e._v("有关番茄社区门店系统最终用户授权协议、商业授权与技术服务的详细内容，均由本公司官方独家提供。本公司拥有在不事先通知的情况下，修改授权协议和服务价目表的权力，修改后的协议或价目表对自改变之日起的新授权用户生效。")]),r("p",[e._v("电子文本形式的授权协议如同双方书面签署的协议一样，具有完全的和等同的法律效力。您一旦开始安装 番茄社区门店系统，即被视为完全理解并接受本协议的各项条款，在享有上述条款授予的权力的同时，受到相关的约束和限制。协议许可范围以外的行为，将直接违反本授权协议并构成侵权，我们有权随时终止授权，责令停止损害，并保留追究相关责任的权力。")])])]:1==e.active?[r("div",{staticStyle:{margin:"0 10%"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"0",label:"检测项目",width:"180"}}),r("el-table-column",{attrs:{prop:"1",label:"安装所需要求",width:"210"}}),r("el-table-column",{attrs:{prop:"2",label:"当前环境",width:"320"}}),r("el-table-column",{attrs:{prop:"3",label:""},scopedSlots:e._u([{key:"default",fn:function(e){return[r("i",{class:e.row[3]?"el-icon-success":"el-icon-error",staticStyle:{"font-size":"20px"},style:e.row[3]?"color: #67C23A;":"color: #F56C6C;"})]}}])})],1)],1)]:2==e.active?[r("el-card",{staticClass:"box-card",staticStyle:{margin:"0 20%"}},[r("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[r("span",[e._v("配置数据库链接")])]),r("div",{staticClass:"text item"},[r("el-form",{ref:"form",staticClass:"form1",attrs:{rules:e.rules,model:e.form,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"数据库服务地址",prop:"ip"}},[r("el-input",{model:{value:e.form.ip,callback:function(t){e.$set(e.form,"ip",t)},expression:"form.ip"}})],1),r("el-form-item",{attrs:{label:"数据库名称",prop:"dbname"}},[r("el-input",{model:{value:e.form.dbname,callback:function(t){e.$set(e.form,"dbname",t)},expression:"form.dbname"}})],1),r("el-form-item",{attrs:{label:"数据库用户名",prop:"dbuser"}},[r("el-input",{model:{value:e.form.dbuser,callback:function(t){e.$set(e.form,"dbuser",t)},expression:"form.dbuser"}})],1),r("el-form-item",{attrs:{label:"数据库密码",prop:"dbpwd"}},[r("el-input",{model:{value:e.form.dbpwd,callback:function(t){e.$set(e.form,"dbpwd",t)},expression:"form.dbpwd"}})],1),r("el-form-item",[r("el-input",{attrs:{type:"hidden"},model:{value:e.form.dbpre,callback:function(t){e.$set(e.form,"dbpre",t)},expression:"form.dbpre"}})],1)],1)],1)])]:3==e.active?[r("el-card",{staticClass:"box-card",staticStyle:{margin:"0 20%"}},[r("div",{staticClass:"clearfix",staticStyle:{"text-align":"center",color:"#67C23A","font-weight":"bold"},attrs:{slot:"header"},slot:"header"},[r("span",[e._v("恭喜您安装成功")])]),r("div",{staticClass:"text item"},[r("p",[e._v("后台地址："),r("a",{attrs:{href:e.url}},[e._v("点击进入")])]),r("p",[e._v("管理员帐号：admin")]),r("p",[e._v("管理员密码：123123")]),r("p",[e._v("\n\t\t\t\t\t\t如果您使用的是nginx，进入后台是404，请将一下伪静态配置到你的nginx中："),r("br"),r("code",[e._v("\n\t\t\t\t\t\t\tif (!-f $request_filename) { rewrite ^/.*$ /index.php last; }\n\t\t\t\t\t\t")])]),r("p",{staticStyle:{color:"red"}},[e._v("注：为了你的系统安全，请删除根目录下的install目录")])])])]:e._e()],2),r("el-footer",{staticStyle:{"text-align":"center"}},[0==e.active?[r("div",[r("el-checkbox",{on:{change:e.ok},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("我已阅读该协议，同意安装")])],1)]:e._e(),e.btn_show?r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",disabled:e.disabled},on:{click:function(t){return e.next("form")}}},[e._v("下一步")]):e._e()],2)],1)],1),e._m(0)])}),o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",{staticClass:"el-footer fixfooter"},[r("a",{staticStyle:{color:"#7C7C7C","text-decoration":"none"},attrs:{href:"http://www.chaituans.com",target:"_blank"}},[e._v("© 2016 - 2020 襄阳市番茄网络科技有限公司")])])}],s=(r("9865"),r("d25f"),{data:function(){return{btn_show:!0,url:"",form:{ip:"localhost",dbname:"",dbuser:"",dbpwd:"",dbpre:"ctshop_"},active:0,disabled:!0,checked:!1,tableData:[],rules:{ip:[{required:!0,message:"请输入数据库服务器地址",trigger:"blur"}],dbname:[{required:!0,message:"请输入数据库名称",trigger:"blur"}],dbuser:[{required:!0,message:"请输入数据库用户名",trigger:"blur"}],dbpwd:[{required:!0,message:"请输入数据库密码",trigger:"blur"}]}}},methods:{ok:function(e){this.checked=e,this.disabled=!e},next:function(e){var t=this;this.disabled=!0,0==this.active?this.$axios.post("/install/inapi.php?type=getenv").then(function(e){if(2001==e.code)t.$notify.error({title:"错误",message:e.msg});else{t.tableData=e;var r=e.filter(function(e){return 0==e[3]});r.length?t.$notify.error({title:"错误",message:"环境检测不通过"}):(t.$notify({title:"成功",message:"环境检测通过",type:"success"}),t.disabled=!1),t.active++}}):1==this.active?(this.active++,this.disabled=!1):2==this.active?this.$refs[e].validate(function(e){if(!e)return t.disabled=!1,t.$notify.error({title:"错误",message:"请填写链接数据库"}),!1;t.$axios.post("/install/inapi.php?type=initdb",t.form).then(function(e){if(200==e.code){t.active++,t.btn_show=!1;var r=window.location.href,i=r.substring(0,r.lastIndexOf("install"));t.url=i+"index.php/adminct/login/index"}else t.$notify.error({title:"错误",message:e.msg}),t.disabled=!1})}):this.active}}}),c=s,u=(r("034f"),r("2877")),d=Object(u["a"])(c,l,o,!1,null,null,null),p=d.exports,f=(r("58b2"),r("bc3a")),b=r.n(f),m=r("4328"),v=r.n(m);b.a.defaults.baseURL="http://www.mall.my/",b.a.defaults.baseURL=Object({NODE_ENV:"production",BASE_URL:""}).baseURL||Object({NODE_ENV:"production",BASE_URL:""}).apiUrl||"",b.a.defaults.headers.post["X-Requested-With"]="XMLHttpRequest";var h={timeout:2e4},g=b.a.create(h);g.interceptors.request.use(function(e){return a["Loading"].service({fullscreen:!0,text:"玩命加载中..."}),"post"!==e.method&&"put"!==e.method||(e.data=v.a.stringify(e.data)),e},function(e){return Promise.reject(e)}),g.interceptors.response.use(function(e){a["Loading"].service().close();var t="";return e.data?e.data:(t="返回数据异常",a["Notification"].error({title:"错误",message:t,duration:0}),new Promise(function(){}))},function(e){return a["Notification"].error({title:"错误",message:e.message,duration:0}),a["Loading"].service().close(),Promise.reject(e)}),Plugin.install=function(e){e.axios=g,window.axios=g,Object.defineProperties(e.prototype,{axios:{get:function(){return g}},$axios:{get:function(){return g}}})},i["default"].use(Plugin);Plugin;i["default"].config.productionTip=!1,i["default"].use(n.a),new i["default"]({render:function(e){return e(p)}}).$mount("#app")},"64a9":function(e,t,r){}});